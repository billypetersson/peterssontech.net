<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Learn about different deployment strategies in Kubernetes and when to use each one for optimal application performance and reliability"><meta name=keywords content="Kubernetes,DevOps,Cloud,Deployment,Microservices"><meta name=author content="Billy Petersson"><meta property="og:type" content="website"><meta property="og:url" content="https://peterssontech.net/blog/kubernetes-deployment-strategies/"><meta property="og:title" content="Kubernetes Deployment Strategies for Modern Applications | Billy Petersson - IT Professional Portfolio"><meta property="og:description" content="Learn about different deployment strategies in Kubernetes and when to use each one for optimal application performance and reliability"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://peterssontech.net/blog/kubernetes-deployment-strategies/"><meta property="twitter:title" content="Kubernetes Deployment Strategies for Modern Applications | Billy Petersson - IT Professional Portfolio"><meta property="twitter:description" content="Learn about different deployment strategies in Kubernetes and when to use each one for optimal application performance and reliability"><title>Kubernetes Deployment Strategies for Modern Applications | Billy Petersson - IT Professional Portfolio</title>
<meta name=description content="Learn about different deployment strategies in Kubernetes and when to use each one for optimal application performance and reliability"><meta name=keywords content="Kubernetes,DevOps,Cloud,Deployment,Microservices"><meta name=author content="Billy Petersson"><meta name=robots content="index, follow"><meta name=language content="en-us"><link rel=canonical href=https://peterssontech.net/blog/kubernetes-deployment-strategies/><meta property="og:type" content="article"><meta property="og:url" content="https://peterssontech.net/blog/kubernetes-deployment-strategies/"><meta property="og:title" content="Kubernetes Deployment Strategies for Modern Applications | Billy Petersson - IT Professional Portfolio"><meta property="og:description" content="Learn about different deployment strategies in Kubernetes and when to use each one for optimal application performance and reliability"><meta property="og:site_name" content="Billy Petersson - IT Professional Portfolio"><meta property="og:image" content="https://peterssontech.net/images/og-default.jpg"><meta property="og:locale" content="en-us"><meta property="article:author" content="Billy Petersson"><meta property="article:published_time" content="2024-12-15T00:00:00Z"><meta property="article:modified_time" content="2024-12-15T00:00:00Z"><meta property="article:tag" content="Kubernetes"><meta property="article:tag" content="DevOps"><meta property="article:tag" content="Cloud"><meta property="article:tag" content="Deployment"><meta property="article:tag" content="Microservices"><meta name=twitter:card content="summary_large_image"><meta name=twitter:url content="https://peterssontech.net/blog/kubernetes-deployment-strategies/"><meta name=twitter:title content="Kubernetes Deployment Strategies for Modern Applications | Billy Petersson - IT Professional Portfolio"><meta name=twitter:description content="Learn about different deployment strategies in Kubernetes and when to use each one for optimal application performance and reliability"><meta name=twitter:image content="https://peterssontech.net/images/og-default.jpg"><meta name=twitter:creator content="@billy_petersson"><meta name=twitter:site content="@billy_petersson"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","name":"Kubernetes Deployment Strategies for Modern Applications","headline":"Kubernetes Deployment Strategies for Modern Applications","description":"Learn about different deployment strategies in Kubernetes and when to use each one for optimal application performance and reliability","url":"https:\/\/peterssontech.net\/blog\/kubernetes-deployment-strategies\/","author":{"@type":"Person","name":"Billy Petersson","url":"https:\/\/peterssontech.net\//about/","sameAs":["https:\/\/linkedin.com\/in\/billy-petersson","https:\/\/github.com\/billy-petersson"]},"datePublished":"2024-12-15T00:00:00Z","dateModified":"2024-12-15T00:00:00Z","publisher":{"@type":"Person","name":"Billy Petersson","url":"https:\/\/peterssontech.net\/"},"mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/peterssontech.net\/blog\/kubernetes-deployment-strategies\/"}}</script><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=dns-prefetch href=//cdnjs.cloudflare.com><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=icon type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=stylesheet href=/css/main.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css></head><body><a href=#main class=skip-link>Skip to main content</a><header class=header role=banner><nav class=navbar role=navigation aria-label="Main navigation"><div class=container><div class=nav-brand><a href=/ class=brand-link aria-label="Billy Petersson - Home"><span class=brand-name>Billy Petersson</span>
<span class=brand-title>IT Professional</span></a></div><button class=nav-toggle id=navToggle aria-label="Toggle navigation menu" aria-expanded=false aria-controls=navMenu>
<span></span>
<span></span>
<span></span></button><ul class=nav-menu id=navMenu role=menubar><li class=nav-item role=none><a href=/ class=nav-link role=menuitem>Home</a></li><li class=nav-item role=none><a href=/about/ class=nav-link role=menuitem>About</a></li><li class=nav-item role=none><a href=/skills/ class=nav-link role=menuitem>Skills</a></li><li class=nav-item role=none><a href=/experience/ class=nav-link role=menuitem>Experience</a></li><li class=nav-item role=none><a href=/projects/ class=nav-link role=menuitem>Projects</a></li><li class=nav-item role=none><a href=/blog/ class=nav-link role=menuitem>Blog</a></li><li class=nav-item role=none><a href=/contact/ class=nav-link role=menuitem>Contact</a></li></ul></div></nav></header><main id=main role=main><div class=section style=padding-top:3rem><div class=container><nav aria-label=Breadcrumb class=breadcrumb><ol class=breadcrumb-list><li class=breadcrumb-item><a href=/ aria-label=Home><i class="fas fa-home" aria-hidden=true></i>
<span class=sr-only>Home</span></a></li><li class=breadcrumb-item><a href=https://peterssontech.net/>Billy Petersson - IT Professional Portfolio</a></li><li class=breadcrumb-item><a href=https://peterssontech.net/blog/>Tech Blog</a></li><li class="breadcrumb-item active" aria-current=page>Kubernetes Deployment Strategies for Modern Applications</li></ol></nav><article class=single-content><header class=single-header><h1 class=single-title>Kubernetes Deployment Strategies for Modern Applications</h1><p class=single-description>Learn about different deployment strategies in Kubernetes and when to use each one for optimal application performance and reliability</p><div class=single-meta><span class=meta-item><i class="fas fa-calendar"></i>
<time datetime=2024-12-15>December 15, 2024</time>
</span><span class=meta-item><i class="fas fa-clock"></i>
8 min read
</span><span class=meta-item><i class="fas fa-user"></i>
Billy Petersson</span></div></header><div class=single-body><h1 id=kubernetes-deployment-strategies-for-modern-applications>Kubernetes Deployment Strategies for Modern Applications</h1><p>As organizations scale their containerized applications, choosing the right deployment strategy becomes crucial for maintaining high availability and minimizing user impact during updates. In this post, we&rsquo;ll explore various Kubernetes deployment strategies and when to use each one.</p><h2 id=why-deployment-strategies-matter>Why Deployment Strategies Matter</h2><p>Deploying applications in production environments requires careful consideration of factors like:</p><ul><li><strong>Zero-downtime requirements</strong></li><li><strong>Rollback capabilities</strong></li><li><strong>Resource utilization</strong></li><li><strong>Testing requirements</strong></li><li><strong>Risk tolerance</strong></li></ul><p>The right deployment strategy can mean the difference between seamless updates and catastrophic outages.</p><h2 id=rolling-updates-the-default-choice>Rolling Updates: The Default Choice</h2><p>Rolling updates are Kubernetes&rsquo; default deployment strategy and work well for most applications.</p><h3 id=how-it-works>How It Works</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>replicas</span>: <span style=color:#ae81ff>6</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>strategy</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>RollingUpdate</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>rollingUpdate</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>maxUnavailable</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>maxSurge</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>template</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>image</span>: <span style=color:#ae81ff>myapp:v2.0</span>
</span></span></code></pre></div><p>The deployment gradually replaces old pods with new ones, ensuring some instances remain available throughout the process.</p><h3 id=when-to-use-rolling-updates>When to Use Rolling Updates</h3><ul><li><strong>Stateless applications</strong> that can handle gradual transitions</li><li><strong>Backward-compatible changes</strong> that don&rsquo;t require immediate consistency</li><li><strong>Resource-constrained environments</strong> where you can&rsquo;t double your pod count</li></ul><h3 id=pros-and-cons>Pros and Cons</h3><p><strong>Pros:</strong></p><ul><li>Zero downtime for most applications</li><li>Gradual resource allocation</li><li>Built-in rollback capabilities</li></ul><p><strong>Cons:</strong></p><ul><li>Mixed versions running simultaneously</li><li>Longer deployment times</li><li>Not suitable for breaking changes</li></ul><h2 id=blue-green-deployments-all-or-nothing>Blue-Green Deployments: All or Nothing</h2><p>Blue-green deployments maintain two identical production environments, switching traffic between them.</p><h3 id=implementation-example>Implementation Example</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Blue deployment (current)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app-blue</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>version</span>: <span style=color:#ae81ff>blue</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>replicas</span>: <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>matchLabels</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>app</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>version</span>: <span style=color:#ae81ff>blue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#75715e># Green deployment (new)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app-green</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>version</span>: <span style=color:#ae81ff>green</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>replicas</span>: <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>matchLabels</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>app</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>version</span>: <span style=color:#ae81ff>green</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#75715e># Service switching between versions</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Service</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app-service</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>app</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>version</span>: <span style=color:#ae81ff>blue </span> <span style=color:#75715e># Switch to &#39;green&#39; for deployment</span>
</span></span></code></pre></div><h3 id=when-to-use-blue-green>When to Use Blue-Green</h3><ul><li><strong>Database schema changes</strong> requiring coordinated updates</li><li><strong>High-stakes deployments</strong> where instant rollback is critical</li><li><strong>Comprehensive testing</strong> before traffic switching</li><li><strong>Breaking changes</strong> that require atomic transitions</li></ul><h3 id=pros-and-cons-1>Pros and Cons</h3><p><strong>Pros:</strong></p><ul><li>Instant traffic switching</li><li>Complete environment isolation</li><li>Easy rollback mechanism</li><li>Full testing before go-live</li></ul><p><strong>Cons:</strong></p><ul><li>Requires double the resources</li><li>Complex database migrations</li><li>Potential for resource waste</li></ul><h2 id=canary-deployments-test-the-waters>Canary Deployments: Test the Waters</h2><p>Canary deployments gradually shift traffic to new versions, allowing for real-world testing with minimal risk.</p><h3 id=istio-implementation>Istio Implementation</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>networking.istio.io/v1alpha3</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>VirtualService</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>hosts</span>:
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>match</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>headers</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>canary</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>exact</span>: <span style=color:#e6db74>&#34;true&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>route</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>destination</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>host</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>subset</span>: <span style=color:#ae81ff>v2</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>route</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>destination</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>host</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>subset</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>90</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>destination</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>host</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>subset</span>: <span style=color:#ae81ff>v2</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>networking.istio.io/v1alpha3</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>DestinationRule</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>host</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>subsets</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>version</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>v2</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>version</span>: <span style=color:#ae81ff>v2</span>
</span></span></code></pre></div><h3 id=traffic-splitting-strategies>Traffic Splitting Strategies</h3><ol><li><strong>Percentage-based</strong>: Route 10% of traffic to the new version</li><li><strong>User-based</strong>: Target specific user segments</li><li><strong>Geographic</strong>: Route traffic from specific regions</li><li><strong>Feature flags</strong>: Use application-level routing</li></ol><h3 id=when-to-use-canary-deployments>When to Use Canary Deployments</h3><ul><li><strong>High-traffic applications</strong> where you need real user feedback</li><li><strong>New features</strong> requiring validation with actual users</li><li><strong>Risk-averse environments</strong> where gradual rollouts are preferred</li><li><strong>A/B testing scenarios</strong> comparing different implementations</li></ul><h2 id=ab-testing-deployments>A/B Testing Deployments</h2><p>A/B testing deployments are similar to canary releases but focus on comparing two versions rather than gradually rolling out one.</p><h3 id=feature-flag-integration>Feature Flag Integration</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Application code with feature flags
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>getFeatureVersion</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>userId</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isInTestGroup</span>(<span style=color:#a6e22e>userId</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;version-b&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;version-a&#39;</span>;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>renderComponent</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>userId</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>version</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getFeatureVersion</span>(<span style=color:#a6e22e>userId</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>version</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;version-b&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>NewFeatureComponent</span> <span style=color:#f92672>/&gt;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>OriginalComponent</span> <span style=color:#f92672>/&gt;</span>;
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h2 id=recreate-strategy-simple-but-disruptive>Recreate Strategy: Simple but Disruptive</h2><p>The recreate strategy terminates all existing pods before creating new ones.</p><h3 id=configuration>Configuration</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>strategy</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Recreate</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>template</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>image</span>: <span style=color:#ae81ff>myapp:v2.0</span>
</span></span></code></pre></div><h3 id=when-to-use-recreate>When to Use Recreate</h3><ul><li><strong>Development environments</strong> where downtime is acceptable</li><li><strong>Applications with strict version requirements</strong></li><li><strong>Resource-constrained clusters</strong> that can&rsquo;t support multiple versions</li><li><strong>Stateful applications</strong> that don&rsquo;t support concurrent versions</li></ul><h2 id=advanced-patterns>Advanced Patterns</h2><h3 id=shadowmirror-deployments>Shadow/Mirror Deployments</h3><p>Mirror production traffic to new versions without affecting users:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>networking.istio.io/v1alpha3</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>VirtualService</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>hosts</span>:
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>mirror</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>host</span>: <span style=color:#ae81ff>web-app-v2</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>subset</span>: <span style=color:#ae81ff>v2</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>route</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>destination</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>host</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>subset</span>: <span style=color:#ae81ff>v1</span>
</span></span></code></pre></div><h3 id=ring-deployments>Ring Deployments</h3><p>Deploy to increasingly larger user groups:</p><ol><li><strong>Ring 0</strong>: Development team (1% of users)</li><li><strong>Ring 1</strong>: Beta testers (5% of users)</li><li><strong>Ring 2</strong>: Early adopters (20% of users)</li><li><strong>Ring 3</strong>: General availability (100% of users)</li></ol><h2 id=monitoring-and-observability>Monitoring and Observability</h2><p>Regardless of your deployment strategy, comprehensive monitoring is essential:</p><h3 id=key-metrics-to-track>Key Metrics to Track</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Prometheus monitoring</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>monitoring.coreos.com/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>ServiceMonitor</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app-monitor</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>matchLabels</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>app</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>endpoints</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>port</span>: <span style=color:#ae81ff>metrics</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>interval</span>: <span style=color:#ae81ff>30s</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>path</span>: <span style=color:#ae81ff>/metrics</span>
</span></span></code></pre></div><p>Monitor these crucial metrics:</p><ul><li><strong>Error rates</strong> and response times</li><li><strong>Resource utilization</strong> (CPU, memory, network)</li><li><strong>Business metrics</strong> specific to your application</li><li><strong>User experience</strong> indicators</li></ul><h3 id=automated-rollback-triggers>Automated Rollback Triggers</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Flagger canary with automated rollback</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>flagger.app/v1beta1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Canary</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>web-app</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>analysis</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>interval</span>: <span style=color:#ae81ff>1m</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>threshold</span>: <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>maxWeight</span>: <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>stepWeight</span>: <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>metrics</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>request-success-rate</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>threshold</span>: <span style=color:#ae81ff>99</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>interval</span>: <span style=color:#ae81ff>1m</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>request-duration</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>threshold</span>: <span style=color:#ae81ff>500</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>interval</span>: <span style=color:#ae81ff>30s</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>webhooks</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>load-test</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>http://loadtester.test/</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>timeout</span>: <span style=color:#ae81ff>15s</span>
</span></span></code></pre></div><h2 id=choosing-the-right-strategy>Choosing the Right Strategy</h2><p>Consider these factors when selecting a deployment strategy:</p><h3 id=application-characteristics>Application Characteristics</h3><ul><li><strong>Stateful vs. stateless</strong></li><li><strong>Database dependencies</strong></li><li><strong>Backward compatibility</strong></li><li><strong>Resource requirements</strong></li></ul><h3 id=business-requirements>Business Requirements</h3><ul><li><strong>Downtime tolerance</strong></li><li><strong>Rollback requirements</strong></li><li><strong>Testing needs</strong></li><li><strong>Compliance requirements</strong></li></ul><h3 id=infrastructure-constraints>Infrastructure Constraints</h3><ul><li><strong>Available resources</strong></li><li><strong>Network topology</strong></li><li><strong>Monitoring capabilities</strong></li><li><strong>Team expertise</strong></li></ul><h2 id=decision-matrix>Decision Matrix</h2><table><thead><tr><th>Strategy</th><th>Zero Downtime</th><th>Resource Overhead</th><th>Rollback Speed</th><th>Complexity</th><th>Best For</th></tr></thead><tbody><tr><td>Rolling Update</td><td>✅</td><td>Low</td><td>Medium</td><td>Low</td><td>Most applications</td></tr><tr><td>Blue-Green</td><td>✅</td><td>High</td><td>Instant</td><td>Medium</td><td>Critical systems</td></tr><tr><td>Canary</td><td>✅</td><td>Medium</td><td>Fast</td><td>High</td><td>High-traffic apps</td></tr><tr><td>A/B Testing</td><td>✅</td><td>Medium</td><td>Fast</td><td>High</td><td>Feature validation</td></tr><tr><td>Recreate</td><td>❌</td><td>Low</td><td>Medium</td><td>Low</td><td>Development</td></tr></tbody></table><h2 id=best-practices>Best Practices</h2><ol><li><strong>Start simple</strong>: Begin with rolling updates and evolve as needed</li><li><strong>Automate testing</strong>: Implement comprehensive test suites for all strategies</li><li><strong>Monitor everything</strong>: Set up robust observability before deploying</li><li><strong>Practice rollbacks</strong>: Regularly test your rollback procedures</li><li><strong>Document processes</strong>: Ensure team members understand each strategy</li><li><strong>Use feature flags</strong>: Decouple deployments from feature releases</li><li><strong>Test in production-like environments</strong>: Validate strategies before production use</li></ol><h2 id=conclusion>Conclusion</h2><p>Kubernetes deployment strategies offer powerful tools for managing application updates safely and efficiently. The key is matching the strategy to your specific requirements and constraints.</p><p>Start with rolling updates for most applications, but don&rsquo;t hesitate to adopt more sophisticated strategies as your applications and infrastructure mature. Remember that the best deployment strategy is one that your team understands, monitors effectively, and can execute reliably.</p><hr><p><em>What deployment strategies have you found most effective in your Kubernetes environments? Share your experiences in the comments or reach out to discuss your specific use cases.</em></p><h2 id=further-reading>Further Reading</h2><ul><li><a href=https://kubernetes.io/docs/concepts/workloads/controllers/deployment/>Kubernetes Official Documentation on Deployments</a></li><li><a href=https://istio.io/latest/docs/concepts/traffic-management/>Istio Traffic Management</a></li><li><a href=https://flagger.app/>Flagger Progressive Delivery</a></li><li><a href=https://argoproj.github.io/argo-rollouts/>CNCF Argo Rollouts</a></li></ul></div><footer class=single-footer><div class=tags><h4>Tags:</h4><a href=/tags/kubernetes/ class=tag>Kubernetes</a>
<a href=/tags/devops/ class=tag>DevOps</a>
<a href=/tags/cloud/ class=tag>Cloud</a>
<a href=/tags/deployment/ class=tag>Deployment</a>
<a href=/tags/microservices/ class=tag>Microservices</a></div></footer></article></div></div><style>.single-content{max-width:800px;margin:0 auto}.single-header{text-align:center;margin-bottom:3rem;padding-bottom:2rem;border-bottom:1px solid var(--border-color)}.single-title{font-size:3rem;font-weight:700;color:var(--text-primary);margin-bottom:1rem;line-height:1.2}.single-description{font-size:1.25rem;color:var(--text-secondary);margin-bottom:2rem;line-height:1.6}.single-meta{display:flex;justify-content:center;gap:2rem;flex-wrap:wrap;color:var(--text-secondary);font-size:.9rem}.meta-item{display:flex;align-items:center;gap:.5rem}.single-body{line-height:1.8;color:var(--text-primary)}.single-body h1,.single-body h2,.single-body h3,.single-body h4,.single-body h5,.single-body h6{color:var(--text-primary);margin-top:2rem;margin-bottom:1rem;font-weight:600}.single-body h1{font-size:2.5rem;border-bottom:2px solid var(--primary-color);padding-bottom:.5rem}.single-body h2{font-size:2rem;color:var(--primary-color)}.single-body h3{font-size:1.5rem}.single-body h4{font-size:1.25rem}.single-body p{margin-bottom:1.5rem}.single-body ul,.single-body ol{margin-bottom:1.5rem;padding-left:2rem}.single-body li{margin-bottom:.5rem}.single-body blockquote{border-left:4px solid var(--primary-color);padding-left:1.5rem;margin:2rem 0;font-style:italic;color:var(--text-secondary)}.single-body code{background-color:var(--bg-secondary);padding:.2rem .4rem;border-radius:.25rem;font-family:courier new,monospace;font-size:.9rem}.single-body pre{background-color:var(--bg-secondary);padding:1.5rem;border-radius:.5rem;overflow-x:auto;margin:2rem 0}.single-body pre code{background-color:transparent;padding:0}.single-body table{width:100%;border-collapse:collapse;margin:2rem 0}.single-body th,.single-body td{padding:.75rem;text-align:left;border-bottom:1px solid var(--border-color)}.single-body th{background-color:var(--bg-secondary);font-weight:600}.single-body a{color:var(--primary-color);text-decoration:none;transition:var(--transition)}.single-body a:hover{color:var(--secondary-color);text-decoration:underline}.single-footer{margin-top:3rem;padding-top:2rem;border-top:1px solid var(--border-color)}.tags{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.tags h4{margin:0;color:var(--text-primary)}@media(max-width:768px){.single-title{font-size:2rem}.single-description{font-size:1.125rem}.single-meta{flex-direction:column;gap:1rem}.single-body h1{font-size:2rem}.single-body h2{font-size:1.5rem}.tags{flex-direction:column;align-items:flex-start}}</style></main><footer class=footer role=contentinfo><div class=container><div class=footer-content><div class=footer-info><h3>Billy Petersson</h3><p>Professional IT portfolio showcasing expertise in software development, system administration, and technology solutions</p></div><div class=footer-links><h4>Quick Links</h4><nav aria-label="Footer navigation"><ul><li><a href=/>Home</a></li><li><a href=/about/>About</a></li><li><a href=/skills/>Skills</a></li><li><a href=/experience/>Experience</a></li><li><a href=/projects/>Projects</a></li><li><a href=/blog/>Blog</a></li><li><a href=/contact/>Contact</a></li></ul></nav></div><div class=footer-social><h4>Connect</h4><div class=social-links role=list><a href=https://linkedin.com/in/billy-petersson target=_blank rel="noopener noreferrer" aria-label="LinkedIn Profile" role=listitem><i class="fab fa-linkedin" aria-hidden=true></i>
<span class=sr-only>LinkedIn</span>
</a><a href=https://github.com/billy-petersson target=_blank rel="noopener noreferrer" aria-label="GitHub Profile" role=listitem><i class="fab fa-github" aria-hidden=true></i>
<span class=sr-only>GitHub</span>
</a><a href=mailto:billy@peterssontech.net aria-label="Send Email" role=listitem><i class="fas fa-envelope" aria-hidden=true></i>
<span class=sr-only>Email</span></a></div></div></div><div class=footer-bottom><p>&copy; 2025 Billy Petersson. All rights reserved.</p></div></div></footer><script src=/js/main.js></script></body></html>